<%= render 'sessionUserPanel/userPanel' %>

<article class="userPanel">
  <div>
    <h1><%= @user.full_name %></h1>
    <%= render partial: 'followings/followLink', locals:{ rant: @user.rants.first} %>

  </div>
  <hr>
  <div>
    <article class="image">
      <%= image_tag @user.image_url %>
    </article>
    <article class="frequency">
      <h2><%= @user.rant_frequency %> Ranter</h2>
    </article>
  </div>
  <article class="bio">
    <p><%= @user.bio %></p>
  </article>
  <article class="bio">

    <% rants_sorted_by_favorites = @user.rants.all.sort_by { |x| x.favorites.length }.reverse %>

    <% rants_sorted_by_favorites.each_with_index do |rant, index| %>

        <br> <% if index!=0 %> <hr width="50%"> <% end %>

        <h3><%= rant.title %></h3>
        <p><%= rant.rant %></p>
        <%= render partial: 'favorites/favoriteLink', locals:{title:"My Rants", favorite: rant, rant: rant} %>

    <% end %>


  </article>

</article>